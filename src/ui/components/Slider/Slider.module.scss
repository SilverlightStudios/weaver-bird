@use "@/ui/tokens" as tokens;

// Slider container
.slider {
    position: relative;
    display: flex;
    align-items: center;
    user-select: none;
    touch-action: none;

    &.disabled {
        opacity: 0.5;
        cursor: not-allowed;

        .thumb {
            cursor: not-allowed;
        }
    }
}

.horizontal {
    width: 100%;
    height: 2rem;
}

.vertical {
    width: 2rem;
    height: 12rem;
    flex-direction: column;
}

// Track (background rail)
.track {
    position: relative;
    flex-grow: 1;

    @include tokens.border-standard;
    @include tokens.shadow-md;
    @include tokens.rotate-slight;

    background: var(--color-block);

    .horizontal & {
        width: 100%;
        height: 0.75rem;
        border-radius: 0.5rem 0.5rem 0.5rem 0.5rem;
    }

    .vertical & {
        width: 0.75rem;
        height: 100%;
        border-radius: 0.5rem 0.5rem 0.5rem 0.5rem;
    }
}

// Filled range
.range {
    position: absolute;
    background: var(--color-primary);
    @include tokens.shadow-sm;

    .horizontal & {
        height: 100%;
        left: 0;
        border-radius: 0.5rem 0 0 0.5rem;
    }

    .vertical & {
        width: 100%;
        bottom: 0;
        border-radius: 0 0 0.5rem 0.5rem;
    }
}

// Thumb (draggable handle)
.thumb {
    position: absolute;
    width: 1.5rem;
    height: 1.5rem;

    @include tokens.border-standard;
    @include tokens.shadow-lg;
    @include tokens.radius-quirky-sm;
    @include tokens.rotate-slight;

    @include tokens.gradient-surface;

    cursor: grab;
    outline: none;

    @include tokens.interactive-transitions;
    transition: box-shadow 180ms var(--spring-bezier),
        rotate 180ms var(--spring-bezier),
        translate 180ms var(--spring-bezier),
        scale 120ms var(--spring-bezier);

    // Texture overlay
    isolation: isolate;
    @include tokens.texture-overlay(0.2);

    .horizontal & {
        top: 50%;
        transform: translate(-50%, -50%);
    }

    .vertical & {
        left: 50%;
        transform: translate(-50%, 50%);
    }

    &:hover {
        @include tokens.shadow-xl;
        rotate: 0deg;
        translate: 0 -2px;
        scale: 1.1;
    }

    &:active {
        cursor: grabbing;
        @include tokens.shadow-md;
        scale: 0.95;
    }

    @include tokens.focus-outline;
}

// Reduced motion support
@media (prefers-reduced-motion: reduce) {
    .thumb {
        transition-duration: 0.01ms;
    }
}
