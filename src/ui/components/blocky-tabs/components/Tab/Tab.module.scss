@use "@/ui/tokens" as tokens;

.tab {
    width: 48px;
    height: 48px;
    background-color: var(--color-block);
    display: flex;
    align-items: center;
    justify-content: center;
    cursor: pointer;
    user-select: none;
    position: relative;
    scale: 1;
    transition:
        scale 200ms ease,
        box-shadow 200ms ease,
        background-color 200ms ease,
        border-color 200ms ease,
        rotate 200ms ease,
        margin 200ms ease,
        padding 200ms ease,
        border-radius 200ms ease;

    @include tokens.border-standard;
    @include tokens.radius-quirky-sm;
    @include tokens.shadow-sm;
    @include tokens.rotate-slight;

    // Zone-specific styling (but not when dragging)
    &[data-zone="left"]:not(.dragging) {
        border-left: none !important;
        border-radius: 0 12px 12px 0;
    }

    &[data-zone="right"]:not(.dragging) {
        border-right: none !important;
        border-radius: 12px 0 0 12px;
    }

    &[data-zone="top"]:not(.dragging) {
        border-top: none !important;
        border-radius: 0 0 12px 12px;
    }

    &[data-zone="bottom"]:not(.dragging) {
        border-bottom: none !important;
        border-radius: 12px 12px 0 0;
    }

    img {
        width: 24px;
        height: 24px;
        image-rendering: pixelated;
    }
}

.active {
    z-index: 20;
    background-color: var(--color-primary);
    color: white;
    scale: 1.1;
    rotate: 0deg;
    border-color: var(--color-ink);

    @include tokens.shadow-md;
}

.hovered {
    @include tokens.shadow-md;
}

.dragging {
    opacity: 0.8;
    z-index: 100;
    cursor: grabbing;
    scale: 1.1;
    rotate: 5deg;

    @include tokens.shadow-xl;

    // Reset to square when dragging
    border-radius: 12px !important;

    @include tokens.border-standard;

    // Restore all borders that were removed by zone-specific styling
    border-top: 2px solid var(--color-ink) !important;
    border-right: 2px solid var(--color-ink) !important;
    border-bottom: 2px solid var(--color-ink) !important;
    border-left: 2px solid var(--color-ink) !important;
}
