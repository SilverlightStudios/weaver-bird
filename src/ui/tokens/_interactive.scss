/**
 * Minecraft Anti-Design Interactive Tokens
 *
 * Common patterns for interactive elements - hover states, textures, transitions.
 */

@use "./shadows";
@use "./patterns";

/**
 * Interactive transitions - common transition properties for interactive elements
 * Best for: Buttons, cards, triggers, any hoverable element
 */
@mixin interactive-transitions($duration: 180ms) {
    transition:
        box-shadow $duration var(--spring-bezier),
        rotate $duration var(--spring-bezier),
        translate $duration var(--spring-bezier);
}

/**
 * Interactive lift - hover raises element, active presses down
 * Best for: Buttons, cards, triggers
 * Note: Requires element to have shadow-md applied
 */
@mixin interactive-lift {
    &:hover {
        @include shadows.shadow-lg;
        rotate: 0deg;
        translate: 0 -2px;
    }

    &:active {
        @include shadows.shadow-sm;
        translate: 0 2px;
    }
}

/**
 * Interactive lift with :not(:disabled) guard
 * Best for: Buttons and form controls that can be disabled
 */
@mixin interactive-lift-guarded {
    &:where(:not(:disabled)):hover {
        @include shadows.shadow-lg;
        rotate: 0deg;
        translate: 0 -2px;
    }

    &:where(:not(:disabled)):active {
        @include shadows.shadow-sm;
        translate: 0 2px;
    }
}

/**
 * Texture overlay - halftone pattern overlay using ::after
 * Best for: Cards, panels, dropdowns, any surface that needs texture
 * Note: Requires parent to have `isolation: isolate`
 */
@mixin texture-overlay($opacity: 0.2) {
    &::after {
        content: "";
        position: absolute;
        inset: 0;
        @include patterns.pattern-halftone-sm;
        opacity: $opacity;
        mix-blend-mode: soft-light;
        pointer-events: none;
        z-index: -1;
        border-radius: inherit;
    }
}

/**
 * Glossy gradient background - white glossy surface
 * Best for: Dropdowns, tooltips, slider thumbs, any elevated surface
 */
@mixin gradient-surface {
    background:
        linear-gradient(
            135deg,
            rgb(255 255 255 / 98%) 0%,
            rgb(245 245 245 / 96%) 100%
        ),
        var(--color-block);
}

/**
 * Glossy gradient with vertical direction (for drawers)
 * Best for: Bottom sheets, vertical panels
 */
@mixin gradient-surface-vertical {
    background:
        linear-gradient(
            to bottom,
            rgb(255 255 255 / 98%) 0%,
            rgb(245 245 245 / 96%) 100%
        ),
        var(--color-block);
}

/**
 * Focus visible outline - consistent focus state
 * Best for: All interactive elements
 */
@mixin focus-outline($color: var(--color-primary), $offset: 4px) {
    &:focus-visible {
        outline: 3px solid $color;
        outline-offset: $offset;
    }
}

/**
 * Menu item interactive states - for dropdown/combobox items
 * Best for: Menu items, list items in dropdowns
 */
@mixin menu-item-states {
    transition:
        background 120ms ease,
        rotate 120ms var(--spring-bezier),
        translate 120ms var(--spring-bezier);

    &:hover,
    &[data-selected="true"],
    &[data-highlighted] {
        background: var(--color-primary);
        color: white;
        rotate: 0deg;
        translate: 2px 0;
    }

    &:active {
        background: var(--color-ink);
        color: var(--color-bg);
        translate: 4px 0;
    }

    &[data-disabled],
    &[data-disabled="true"] {
        opacity: 0.4;
        cursor: not-allowed;
        pointer-events: none;
    }
}

/**
 * Custom scrollbar styling
 * Best for: Scrollable lists in dropdowns, panels
 */
@mixin custom-scrollbar {
    &::-webkit-scrollbar {
        width: 8px;
    }

    &::-webkit-scrollbar-track {
        background: rgb(0 0 0 / 5%);
        border-radius: 4px;
    }

    &::-webkit-scrollbar-thumb {
        background: var(--color-ink);
        border-radius: 4px;

        &:hover {
            background: var(--color-primary);
        }
    }
}
